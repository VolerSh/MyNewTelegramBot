# System Patterns

## 1. System Architecture

Система состоит из четырех основных модулей:
*   **Telegram-бот (интерфейс пользователя):** Принимает команды от пользователя.
*   **Модуль скрейпинга (сбор данных):** На базе Scrapy.
    *   **Основной скрейпер (`yandex_market`):** Собирает данные о товарах.
    *   **Скрейпер справочников (`filter_spider`):** Собирает значения для фильтров (бренды, цвета и т.д.).
*   **Модуль анализа (Analysis):**
    *   **Анализатор структуры (`StructureAnalyzer`):** (Планируется) Отвечает за анализ HTML-структуры страниц для предоставления актуальных селекторов и ID другим модулям.
    *   **Анализатор данных:** (Планируется) Будет обрабатывать данные из БД.
*   **База данных (хранение):** (Планируется) Будет хранить собранные данные.

## 2. Key Technical Decisions

*   **Язык:** Python (из-за наличия зрелых библиотек для веб-скрейпинга и Telegram ботов).
*   **Скрейпинг:** Использование фреймворка Scrapy в связке с `scrapy-playwright` для обработки динамического контента (JavaScript).
*   **База данных:** SQLite для простоты и легковесности, так как на начальном этапе не ожидается высоких нагрузок.
*   **Взаимодействие модулей (текущее):** Модули пока не связаны. `yandex_market` и `filter_spider` запускаются раздельно и сохраняют результаты в CSV-файлы в директорию `results/`.

## 3. Design Patterns

*   (Здесь будут описаны ключевые паттерны проектирования. Например, "Использование паттерна 'Наблюдатель' для системы уведомлений" или "Репозиторий для абстрагирования работы с базой данных".)

## 4. Component Relationships

(Здесь можно будет более детально описать связи между компонентами, возможно, с помощью диаграммы.)